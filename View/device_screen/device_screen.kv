#: import DeviceScreenModel Model.DeviceScreenModel

<DeviceScreenView>
    MDBoxLayout:
        orientation: 'vertical'
        pos_hint: {"top": 1}
        adaptive_height: True
        MDTopAppBar:
            title: "Параметры стимуляции"
            left_action_items: [["arrow-left", lambda x: root.back()]]
        MDGridLayout:
            adaptive_height: True
            cols: 2
            MDLabel:
                id: named
                theme_text_color: 'Primary'
                font_style: 'H6'
                text: root.name
                size_hint_x: 0.7
            MDGridLayout:
                adaptive_height: True
                cols: 2
                size_hint_x: 0.3
                MDLabel:
                    id: voltage_id
                    text: root.voltage
                    theme_text_color: 'Primary'
                    halign: 'right'
                MDIcon:
                    id: voltage_icon_id
                    icon: root.voltage_icon
        MDRelativeLayout:
            size_hint: None, None
            size: 1000, 200
            pos: 200, 200
            MDLabel:
                text: "Амплитуда, В"
                pos_hint:{'center_x': 0.55, 'center_y': 0.7}
            MDSlider:
                id: slider_amp_id
                value: root.slider_amp_text
                hint: True
                min: 0
                max: 25
                step: 0.1
                pos_hint:{'center_x': 0.45, 'center_y': 0.1}
                track_color_active: "red"
                size_hint_x: None
                width: dp(300)
                on_active: root.controller.send_amp()
            MDTextField:
                id: text_field_id
                text: str(round(root.ids.slider_amp_id.value, 1))[:4]
                on_text_validate: root.on_text_reaction()
                pos_hint:{'center_x': 0.98, 'center_y': 0.1}
                size_hint_x: None
                width: '60dp'
                text_color_normal: 'red'
                font_size: '20sp'
        MDRelativeLayout:
            size_hint: None, None
            size: 1000, 200
            pos: 200, 200
            MDLabel:
                text: "Длительность, мкс"
                pos_hint:{'center_x': 0.55, 'center_y': 0.7}
            MDSlider:
                id: slider_dlit_id
                value: root.slider_dlit_text
                hint: True
                min: 15
                max: 60
                step: 1
                pos_hint:{'center_x': 0.45, 'center_y': 0.1}
                track_color_active: "red"
                size_hint_x: None
                width: dp(300)
                on_active: root.controller.send_dlit()
            MDTextField:
                id: text_field_dlit_id
                text: str(round(root.ids.slider_dlit_id.value, 1))[:4]
                on_text_validate: root.on_text_reaction_dlit()
                pos_hint:{'center_x': 0.98, 'center_y': 0.1}
                size_hint_x: None
                width: '60dp'
                text_color_normal: 'red'
                font_size: '20sp'
        MDRelativeLayout:
            size_hint: None, None
            size: 1000, 200
            pos: 200, 200
            MDLabel:
                text: "Частота, Гц"
                pos_hint:{'center_x': 0.55, 'center_y': 0.7}
            MDSlider:
                id: slider_chast_id
                value: root.slider_chast_text
                hint: True
                min: 5
                max: 150
                step: 1
                pos_hint:{'center_x': 0.45, 'center_y': 0.1}
                track_color_active: "red"
                size_hint_x: None
                width: dp(300)
                on_active: root.controller.send_chast()
            MDTextField:
                id: text_field_chast_id
                text: str(round(root.ids.slider_chast_id.value, 1))[:4]
                on_text_validate: root.on_text_reaction_chast()
                pos_hint:{'center_x': 0.98, 'center_y': 0.1}
                size_hint_x: None
                width: '60dp'
                text_color_normal: 'red'
                font_size: '20sp'
        MDRelativeLayout:
            size_hint: None, None
            size: 1100, 500
            pos: 200, 200
            MDCheckbox:
                id: a0
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .26, 'center_y': .65}
                on_active: root.controller.send_anode(0, *args)
            MDCheckbox:
                id: a1
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .4, 'center_y': .65}
                on_active: root.controller.send_anode(1, *args)
            MDCheckbox:
                id: a2
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .54, 'center_y': .65}
                on_active: root.controller.send_anode(2, *args)
            MDCheckbox:
                id: a3
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .68, 'center_y': .65}
                on_active: root.controller.send_anode(3, *args)
            MDCheckbox:
                id: a4
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .2, 'center_y': .4}
                on_active: root.controller.send_anode(4, *args)
            MDCheckbox:
                id: a5
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .34, 'center_y': .4}
                on_active: root.controller.send_anode(5, *args)
            MDCheckbox:
                id: a6
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .48, 'center_y': .4}
                on_active: root.controller.send_anode(6, *args)
            MDCheckbox:
                id: a7
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .62, 'center_y': .4}
                on_active: root.controller.send_anode(7, *args)
            MDCheckbox:
                id: a8
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .76, 'center_y': .4}
                on_active: root.controller.send_anode(8, *args)
            MDCheckbox:
                id: a9
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .26, 'center_y': .15}
                on_active: root.controller.send_anode(9, *args)
            MDCheckbox:
                id: a10
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .4, 'center_y': .15}
                on_active: root.controller.send_anode(10, *args)
            MDCheckbox:
                id: a11
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .54, 'center_y': .15}
                on_active: root.controller.send_anode(11, *args)
            MDCheckbox:
                id: a12
                group: 'group'
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {'center_x': .68, 'center_y': .15}
                on_active: root.controller.send_anode(12, *args)
        MDRelativeLayout:
            size_hint: None, None
            size: 550, 150
            pos: 200, 200
        MDBoxLayout:
            orientation: 'horizontal'
            adaptive_height: True
            MDFillRoundFlatButton:
                id: btn_off
                text: 'Выключено'
                size_hint_x: 0.15
                on_press: root.controller.send_segment(0)
                md_bg_color: colors['Blue']['700']
            MDFillRoundFlatButton:
                id: btn_l
                text: 'Л'
                size_hint_x: 0.15
                on_press: root.controller.send_segment(1)
                md_bg_color: colors['Blue']['700']
            MDFillRoundFlatButton:
                id: btn_r
                text: 'П'
                size_hint_x: 0.15
                on_press: root.controller.send_segment(2)
                md_bg_color: colors['Blue']['700']
